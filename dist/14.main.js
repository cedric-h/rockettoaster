(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{14:function(e,t,i){const o=i(33),n=i(36),a=i(34);var r,s,d,l=[];function c(){r.width=window.innerWidth,r.height=window.innerHeight}entities.emitter.on("loaded",()=>{(r=document.createElement("canvas")).id="canvas",s=r.getContext("2d"),document.body.append(r),c(),window.addEventListener("resize",c)}),entities.emitter.on("appearanceCreate",e=>{let t=entities.getComponent(e,"appearance").zIndex;l[0===t?"unshift":"push"](e),clearTimeout(d),d=setTimeout(()=>{l=l.sort((e,t)=>entities.getComponent(e,"appearance").zIndex-entities.getComponent(t,"appearance").zIndex)},15)}),entities.emitter.on("appearanceRemove",e=>{l.splice(l.indexOf(e),1)}),e.exports={update:()=>{s.fillStyle=n.sky,s.fillRect(0,0,r.width,r.height);let e=entities.find("cameraFocus")[0];if(void 0!==e){let t=entities.getComponent(e,"body");o.vec2.lerp(camera.position,camera.position,[-t.position[0],-t.position[1]],.05)}s.save(),s.translate(r.width/2,r.height/2),s.scale(a.zoom,-a.zoom),s.translate(camera.position[0],camera.position[1]),s.fillStyle=n.underground,s.fillRect(a.size/-2,0,a.size,-60),s.fillStyle=n.ground,s.fillRect(a.size/-2,a.floorHeight,a.size,-60),l.forEach(e=>{let t=entities.getComponent(e,"physicsConfig"),i=entities.getComponent(e,"appearance");s.globalAlpha=void 0!==i.transparency?i.transparency:1,void 0!==t?(s.fillStyle=i.color,function(e,t){s.save(),s.translate(e.interpolatedPosition[0],e.interpolatedPosition[1]),s.rotate(e.interpolatedAngle),s.fillRect(-t.width/2,-t.height/2,t.width,t.height),s.restore()}(t.body,t.shapeConfig)):"line"===i.type&&(s.strokeStyle=i.color,s.lineWidth=i.lineWidth,s.beginPath(),s.moveTo(i.coords[0][0],i.coords[0][1]),s.lineTo(i.coords[1][0],i.coords[1][1]),s.stroke())}),s.restore()}}},34:function(e){e.exports={size:100,zoom:25,floorHeight:-45,chunkSize:10,zIndexLowest:0,zIndexHighest:1}},36:function(e){e.exports={ground:"#594f4f",sky:"#547980",underground:"#363030",rock:"slategray",tree:"#664b49",bush:"#548065",thickBush:"#496f5d",limeTeam:"#9de0ad",cyanTeam:"#45ada8",starterTier:"#b84f4f",cloudTier:"#8ecdd9",purpleTier:"RebeccaPurple"}}}]);