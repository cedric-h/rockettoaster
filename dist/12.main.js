(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{12:function(e,n,t){const i=t(34),{vec2:o}=t(33);var s;const d=o.create();function c(e){var n=s.getBoundingClientRect();return o.set(d,(e.clientX-n.left-s.width/2)/i.zoom-camera.position[0],(e.clientY-n.top-s.height/2)/-i.zoom-camera.position[1]),d}function a(e){let n=entities.getComponent(entities.find("cameraFocus")[0],"body").position,t=c(e);o.sub(t,t,n),server.emit("inputUpdate",{aimingAxis:t})}const r=e=>{let n=u.keys[e.key];void 0!==n&&(u.values[n.direction]="keydown"===e.type?n.coefficient:0,server.emit("inputUpdate",{movementAxis:u.values}),entities.emitter.emit("movementAxisInput",u.values.slice(0),entities.find("cameraFocus")[0]))},u={values:[0,0],keys:{a:{coefficient:-1,direction:0},d:{coefficient:1,direction:0},s:{coefficient:-1,direction:1},w:{coefficient:1,direction:1}}};window.addEventListener("keydown",r),window.addEventListener("keyup",r);const m=(e,n,t,i)=>{let o={},s=n[e[t]];void 0!==s&&(o[s.name]=[e.type===i?1:0],s.sendAlsoMousePos&&a(e),server.emit("inputUpdate",o))};entities.emitter.on("teamChosen",()=>{s=document.getElementById("canvas");const e=e=>m(e,[{name:"weaponTrigger",sendAlsoMousePos:!0}],"button","mousedown");window.addEventListener("mousedown",e),window.addEventListener("mouseup",e),window.addEventListener("mousemove",a);const n=e=>m(e,{e:{name:"pickUpButton"},r:{name:"dropButton"}},"key","keydown");window.addEventListener("keydown",n),window.addEventListener("keyup",n)}),e.exports=[]},34:function(e){e.exports={size:100,zoom:25,floorHeight:-45,chunkSize:10,zIndexLowest:0,zIndexHighest:1}}}]);