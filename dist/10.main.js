(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{10:function(e,n){var t,a;const r=[];function i(){Array.from(navigator.getGamepads()).filter(e=>null!==e).forEach(e=>{a=[{name:"movementAxis",value:[0,0],indexes:[0,1],type:"axes",deadZone:.15,emitEvent:!0,emitServer:!0},{name:"weaponTrigger",value:[0],indexes:[7],type:"buttons",emitServer:!0},{name:"aimingAxis",value:[0,0],indexes:[2,3],type:"axes",emitServer:!0},{name:"pickUpButton",value:[0],indexes:[0],type:"buttons",emitServer:!0},{name:"dropButton",value:[0],indexes:[2],type:"buttons",emitServer:!0}],console.log("controller connected!"),clearInterval(t)})}entities.emitter.on("teamChosen",()=>{"ongamepadconnected"in window||(t=setInterval(i,500))});e.exports={update:()=>{let e=Array.from(navigator.getGamepads()).filter(e=>null!==e).filter(e=>"Unknown Controller"!==e.id.substring(0,"Unknown Controller".length-1));e.length>0&&e.forEach(e=>{if(void 0!==e&&void 0!==a){let n={};a.forEach(t=>{let i=t.indexes.map(n=>e[t.type][n]).map(e=>void 0!==e.value?e.value:e).map(e=>Math.abs(e)<t.deadZone?0:e);(function(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(e.length!=n.length)return!1;for(var t=0;t<e.length;++t)if(e[t]!==n[t])return!1;return!0})(i,t.value)||(t.value=i,function(e,n,t){e.sendAlso&&(n.sendAlso||(n.sendAlso=[]),n.sendAlso.push({name:e.sendAlso,sentFor:e.name,value:a.filter(n=>n.name==e.sendAlso)[0].value})),e.emitServer&&(n[e.name]=e.value),e.emitEvent&&t.push([e.name+"Input",e.value])}(t,n,r))}),Object.keys(n).length>0&&(server.emit("inputUpdate",n),r.filter(e=>(entities.emitter.emit(e[0],e[1],entities.find("localPlayer")[0]),!1)))}})}}}}]);